<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/oops/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/oops/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/oops/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/oops/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/oops/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/oops/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/oops/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="国内现在有大量的公司都在使用 Elasticsearch，包括携程、滴滴、今日头条、饿了么、360安全、小米、vivo等诸多知名公司。 除了搜索之外，结合Kibana、Logstash、Beats，Elastic Stack还被广泛运用在大数据近实时分析领域，包括日志分析、指标监控、信息安全等多个领域。 它可以帮助你探索海量结构化、非结构化数据，按需创建可视化报表，对监控数据设置报警阈值，甚至通过">
<meta property="og:type" content="article">
<meta property="og:title" content="Elasticsearch 在各大互联网公司大量真实的应用案例！">
<meta property="og:url" content="https://smartlink-tech.gitee.cn/oops/2020/04/30/%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB/Elasticsearch%20%E5%9C%A8%E5%90%84%E5%A4%A7%E4%BA%92%E8%81%94%E7%BD%91%E5%85%AC%E5%8F%B8%E5%A4%A7%E9%87%8F%E7%9C%9F%E5%AE%9E%E7%9A%84%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B%EF%BC%81/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="国内现在有大量的公司都在使用 Elasticsearch，包括携程、滴滴、今日头条、饿了么、360安全、小米、vivo等诸多知名公司。 除了搜索之外，结合Kibana、Logstash、Beats，Elastic Stack还被广泛运用在大数据近实时分析领域，包括日志分析、指标监控、信息安全等多个领域。 它可以帮助你探索海量结构化、非结构化数据，按需创建可视化报表，对监控数据设置报警阈值，甚至通过">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://smartlink-tech.gitee.cn/Oops/resources/93778C9F54BE917F995F4288741ABFF1.png">
<meta property="og:image" content="https://smartlink-tech.gitee.cn/Oops/resources/20FC3AC3B1113ED168EA2B610A9E34CF.png">
<meta property="og:image" content="https://smartlink-tech.gitee.cn/Oops/resources/D2F0017E2612478F92E2678C556C814C.png">
<meta property="og:image" content="https://smartlink-tech.gitee.cn/Oops/resources/A9978A159CE534ABBF83E2D350716A62.png">
<meta property="og:image" content="https://smartlink-tech.gitee.cn/Oops/resources/4E7D27D7252BF3A846FE8AB61F155864.png">
<meta property="og:image" content="https://smartlink-tech.gitee.cn/Oops/resources/EFEE28C558EA0DD8CCD4718DBC555610.jpg">
<meta property="og:image" content="https://smartlink-tech.gitee.cn/Oops/resources/2DDC13685DFB8AA0A215208FFBFAC2FF.jpg">
<meta property="og:image" content="https://smartlink-tech.gitee.cn/Oops/resources/B8F64EC041FFD68F7E7D1ED355F49084.jpg">
<meta property="article:published_time" content="2020-04-30T03:23:00.000Z">
<meta property="article:modified_time" content="2020-04-30T08:17:04.061Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://smartlink-tech.gitee.cn/Oops/resources/93778C9F54BE917F995F4288741ABFF1.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/Oops',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"remove","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://smartlink-tech.gitee.cn/oops/2020/04/30/推荐阅读/Elasticsearch 在各大互联网公司大量真实的应用案例！/"/>





  <title>Elasticsearch 在各大互联网公司大量真实的应用案例！ | Hexo</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/oops/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/oops/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/oops/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/oops/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/oops/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://smartlink-tech.gitee.cn/oops/oops/2020/04/30/%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB/Elasticsearch%20%E5%9C%A8%E5%90%84%E5%A4%A7%E4%BA%92%E8%81%94%E7%BD%91%E5%85%AC%E5%8F%B8%E5%A4%A7%E9%87%8F%E7%9C%9F%E5%AE%9E%E7%9A%84%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B%EF%BC%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="架构组">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/oops/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Elasticsearch 在各大互联网公司大量真实的应用案例！</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-30T11:23:00+08:00">
                2020-04-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/oops/categories/%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB/" itemprop="url" rel="index">
                    <span itemprop="name">推荐阅读</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">本文总阅读量
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>国内现在有大量的公司都在使用 Elasticsearch，包括携程、滴滴、今日头条、饿了么、360安全、小米、vivo等诸多知名公司。</p>
<p>除了搜索之外，结合Kibana、Logstash、Beats，Elastic Stack还被广泛运用在大数据近实时分析领域，包括日志分析、指标监控、信息安全等多个领域。</p>
<p>它可以帮助你探索海量结构化、非结构化数据，按需创建可视化报表，对监控数据设置报警阈值，甚至通过使用机器学习技术，自动识别异常状况。</p>
<h2 id="一、京东到家订单中心-Elasticsearch-演进历程"><a href="#一、京东到家订单中心-Elasticsearch-演进历程" class="headerlink" title="一、京东到家订单中心 Elasticsearch 演进历程"></a>一、京东到家订单中心 Elasticsearch 演进历程</h2><p>京东到家订单中心系统业务中，无论是外部商家的订单生产，或是内部上下游系统的依赖，订单查询的调用量都非常大，造成了订单数据读多写少的情况。</p>
<p>京东到家的订单数据存储在MySQL中，但显然只通过DB来支撑大量的查询是不可取的，同时对于一些复杂的查询，Mysql支持得不够友好，所以订单中心系统使用了Elasticsearch来承载订单查询的主要压力。</p>
<p><img src="/Oops/resources/93778C9F54BE917F995F4288741ABFF1.png" alt></p>
<p>Elasticsearch 做为一款功能强大的分布式搜索引擎，支持近实时的存储、搜索数据，在京东到家订单系统中发挥着巨大作用，目前订单中心ES集群存储数据量达到10亿个文档，日均查询量达到5亿。</p>
<p>随着京东到家近几年业务的快速发展，订单中心ES架设方案也不断演进，发展至今ES集群架设是一套实时互备方案，很好的保障了ES集群读写的稳定性。</p>
<p><img src="/Oops/resources/20FC3AC3B1113ED168EA2B610A9E34CF.png" alt></p>
<p>如上图，订单中心ES集群架设示意图。整个架设方式通过VIP来负载均衡外部请求，第一层gateway节点实质为ES中client node，相当于一个智能负载均衡器，充当着分发请求的角色。</p>
<p>第二层为data node，负责存储数据以及执行数据的相关操作。整个集群有一套主分片，二套副分片（一主二副），从网关节点转发过来的请求，会在打到数据节点之前通过轮询的方式进行均衡。集群增加一套副本并扩容机器的方式，增加了集群吞吐量，从而提升了整个集群查询性能。</p>
<p>当然分片数量和分片副本数量并不是越多越好，在此阶段中，对选择适当的分片数量做了近一步探索。</p>
<p>分片数可以理解为Mysql中的分库分表，而当前订单中心ES查询主要分为两类：单ID查询以及分页查询。</p>
<p>分片数越大，集群横向扩容规模也更大，根据分片路由的单ID查询吞吐量也能大大提升，但对于聚合的分页查询性能则将降低。分片数越小，集群横向扩容规模更小，单ID的查询性能也将下降，但对于分页查询，性能将会得到提升。</p>
<p>所以如何均衡分片数量和现有查询业务，我们做了很多次调整压测，最终选择了集群性能较好的分片数。</p>
<p>由于大部分ES查询的流量都来源于近几天的订单，且订单中心数据库数据已有一套归档机制，将指定天数之前已经关闭的订单转移到历史订单库。</p>
<p>架构的快速迭代源于业务的快速发展，正是由于近几年到家业务的高速发展，订单中心的架构也不断优化升级。</p>
<p><strong>架构方案没有最好的，只有最合适的。相信再过几年，订单中心的架构又将是另一个面貌，但吞吐量更大，性能更好，稳定性更强，将是订单中心系统永远的追求。</strong></p>
<h2 id="二、携程Elasticsearch应用案例"><a href="#二、携程Elasticsearch应用案例" class="headerlink" title="二、携程Elasticsearch应用案例"></a>二、携程Elasticsearch应用案例</h2><h3 id="1-携程酒店订单Elasticsearch实战"><a href="#1-携程酒店订单Elasticsearch实战" class="headerlink" title="1. 携程酒店订单Elasticsearch实战"></a>1. 携程酒店订单Elasticsearch实战</h3><p>选择对分片后的数据库建立实时索引，把查询收口到一个独立的 Web Service，在保证性能的前提下，提升业务应用查询时的便捷性。</p>
<p>最终我们选择了 Elasticsearch，看中的是它的轻量级、易用和对分布式更好的支持，整个安装包也只有几十兆。</p>
<p><a href="http://developer.51cto.com/art/201807/579354.htm" target="_blank" rel="noopener">http://developer.51cto.com/art/201807/579354.htm</a></p>
<h3 id="2-携程机票ElasticSearch集群运维驯服记"><a href="#2-携程机票ElasticSearch集群运维驯服记" class="headerlink" title="2. 携程机票ElasticSearch集群运维驯服记"></a>2. 携程机票ElasticSearch集群运维驯服记</h3><p><a href="http://mp.weixin.qq.com/s?__biz=MzU0MzQ5MDA0Mw==&mid=2247489611&idx=1&sn=407f2a3d9e5190c89064752eeded6e5d&chksm=fb0bf2dfcc7c7bc93fed2f746b6f7c128ea6d56f33163bb6796c7bd3f4adf2f69acda4948c1a&scene=21#wechat_redirect" target="_blank" rel="noopener"><img src="/Oops/resources/D2F0017E2612478F92E2678C556C814C.png" alt></a></p>
<p>这个是比较通用的数据的流程，一般会通过Kafka分离产生数据的应用程序和后面的平台，通过ETL落到不同的地方，按照优先级和冷热程度采取不同的存储方式。</p>
<p>一般来说，冷数据存放到HDFS，如果温数据、或者热数据会采用Database以及Cache。一旦数据落地，我们会做两方面的应用</p>
<p>第一个方面的应用是传统BI，比如会产生各种各样的报表，报表的受众是更高的决策层和管理层，他们看了之后，会有相应的业务调整和更高层面的规划或转变。</p>
<p>这个使用路径比较传统的，在数据仓库时代就已经存在了。现在有一种新兴的场景就是利用大数据进行快速决策，数据不是喂给人的，数据分析结果由程序来消费，其实是再次的反馈到数据源头即应用程序中，让他们基于快速分析后的结果，调整已有策略，这样就形成了一个数据使用的循环。</p>
<p>这样我们从它的输入到输出会形成一种闭环，而且这个闭环全部是机器参与的，这也是为什么去研究这种大规模的，或者快速决策的原因所在。</p>
<p>如果数据最终还会给人本身来看的话，就没有必要更新那么快，因为一秒钟刷新一次或者10秒钟刷新一次对人是没有意义的，因为我们脑子不可能一直转那么快，基于数据一直的做调整也是不现实的，但是对机器来讲，就完全没有问题。</p>
<p><a href="http://www.sohu.com/a/199672012\_411876" target="_blank" rel="noopener">http://www.sohu.com/a/199672012\_411876</a></p>
<h3 id="3-携程：大规模-Elasticsearch-集群管理心得"><a href="#3-携程：大规模-Elasticsearch-集群管理心得" class="headerlink" title="3. 携程：大规模 Elasticsearch 集群管理心得"></a>3. 携程：大规模 Elasticsearch 集群管理心得</h3><p>目前，我们最大的日志单集群有120个data node，运行于70台物理服务器上。数据规模如下:</p>
<ul>
<li>单日索引数据条数600亿，新增索引文件25TB (含一个复制片则为50TB)</li>
<li>业务高峰期峰值索引速率维持在百万条/秒</li>
<li>历史数据保留时长根据业务需求制定，从10天 - 90天不等</li>
<li>集群共3441个索引、17000个分片、数据总量约9300亿, 磁盘总消耗1PB</li>
</ul>
<p><a href="https://www.jianshu.com/p/6470754b8248" target="_blank" rel="noopener">https://www.jianshu.com/p/6470754b8248</a></p>
<h2 id="三、去哪儿：订单中心基于elasticsearch-的解决方案"><a href="#三、去哪儿：订单中心基于elasticsearch-的解决方案" class="headerlink" title="三、去哪儿：订单中心基于elasticsearch 的解决方案"></a>三、去哪儿：订单中心基于elasticsearch 的解决方案</h2><p>15年去哪儿网酒店日均订单量达到30w+，随着多平台订单的聚合日均订单能达到100w左右。</p>
<p>原来采用的热表分库方式，即将最近6个月的订单的放置在一张表中，将历史订单放在在history表中。history表存储全量的数据，当用户查询的下单时间跨度超过6个月即查询历史订单表，此分表方式热表的数据量为4000w左右，当时能解决的问题。但是显然不能满足携程艺龙订单接入的需求。</p>
<p>如果继续按照热表方式，数据量将超过1亿条。全量数据表保存2年的可能就超过4亿的数据量。所以寻找有效途径解决此问题迫在眉睫。</p>
<p>由于对这预计4亿的数据量还需按照预定日期、入住日期、离店日期、订单号、联系人姓名、电话、酒店名称、订单状态……等多个条件查询。所以简单按照某一个维度进行分表操作没有意义。</p>
<p>Elasticsearch分布式搜索储存集群的引入，就是为了解决订单数据的存储与搜索的问题。</p>
<p>对订单模型进行抽象和分类，将常用搜索字段和基础属性字段剥离。DB做分库分表，存储订单详情；Elasticsearch存储搜素字段。</p>
<p>订单复杂查询直接走Elasticsearch，基于OrderNo的简单查询走DB，如下图所示。</p>
<p><img src="/Oops/resources/A9978A159CE534ABBF83E2D350716A62.png" alt></p>
<p>系统伸缩性：Elasticsearch 中索引设置了8个分片，目前ES单个索引的文档达到1.4亿，合计达到2亿条数据占磁盘大小64G，集群机器磁盘容量240G。</p>
<p><a href="https://elasticsearch.cn/article/6197" target="_blank" rel="noopener">https://elasticsearch.cn/article/6197</a></p>
<h2 id="四、Elasticsearch-在58集团信息安全部的应用"><a href="#四、Elasticsearch-在58集团信息安全部的应用" class="headerlink" title="四、Elasticsearch 在58集团信息安全部的应用"></a>四、Elasticsearch 在58集团信息安全部的应用</h2><p>全面介绍 Elastic Stack 在58集团信息安全部的落地，升级，优化以及应用。</p>
<p>包括如下几个方面：接入背景，存储选型，性能挑战，master node以及data node优化，安全实践，高吞吐量以及低延迟搜索优化；kibana 的落地，本地化使其更方便产品、运营使用。</p>
<p><img src="/Oops/resources/4E7D27D7252BF3A846FE8AB61F155864.png" alt></p>
<p><a href="https://elasticsearch.cn/slides/124" target="_blank" rel="noopener">https://elasticsearch.cn/slides/124</a></p>
<h2 id="五、滴滴Elasticsearch多集群架构实践"><a href="#五、滴滴Elasticsearch多集群架构实践" class="headerlink" title="五、滴滴Elasticsearch多集群架构实践"></a>五、滴滴Elasticsearch多集群架构实践</h2><p>滴滴 2016 年初开始构建 Elasticsearch 平台，如今已经发展到超过 3500+ Elasticsearch 实例，超过 5PB 的数据存储，峰值写入 tps 超过了 2000w/s 的超大规模。</p>
<p>Elasticsearch 在滴滴有着非常丰富的使用场景，例如线上核心的打车地图搜索，客服、运营的多维度查询，滴滴日志服务等近千个平台用户。</p>
<p>先看看滴滴 Elasticsearch 单集群的架构：滴滴在单集群架构的时候，写入和查询就已经通过 Sink 服务和 Gateway 服务管控起来。</p>
<p><img src="/Oops/resources/EFEE28C558EA0DD8CCD4718DBC555610.jpg" alt></p>
<h3 id="1-Sink服务"><a href="#1-Sink服务" class="headerlink" title="1. Sink服务"></a>1. Sink服务</h3><p>滴滴几乎所有写入 Elasticsearch 的数据都是经由 kafka 消费入到 Elasticsearch。kafka 的数据包括业务 log 数据、mysql binlog 数据和业务自主上报的数据，Sink 服务将这些数据实时消费入到 Elasticsearch。</p>
<p>最初设计 Sink 服务是想对写入 Elasticsearch 集群进行管控，保护 Elasticsearch 集群，防止海量的数据写入拖垮 Elasticsearch，之后我们也一直沿用了 Sink 服务，并将该服务从 Elasticsearch 平台分离出去，成立滴滴 Sink 数据投递平台，可以从 kafka 或者 MQ 实时同步数据到 Elasticsearch、HDFS、Ceph 等多个存储服务。</p>
<p>有了多集群架构后，Elasticsearch 平台可以消费一份 MQ 数据写入多个 Elasticsearch 集群，做到集群级别的容灾，还能通过 MQ 回溯数据进行故障恢复。</p>
<h3 id="2-Gateway-服务"><a href="#2-Gateway-服务" class="headerlink" title="2. Gateway 服务"></a>2. Gateway 服务</h3><p>所有业务的查询都是经过 Gateway 服务，Gateway 服务实现了 Elasticsearch 的 http restful 和 tcp 协议，业务方可以通过 Elasticsearch 各语言版本的 sdk 直接访问 Gateway 服务</p>
<p>Gateway 服务还实现了 SQL 接口，业务方可以直接使用 SQL 访问 Elasticsearch 平台。</p>
<p>Gateway 服务最初提供了应用权限的管控，访问记录，限流、降级等基本能力，后面随着平台演进，Gateway 服务还提供了索引存储分离、DSL 级别的限流、多集群灾备等能力。</p>
<p><a href="https://mp.weixin.qq.com/s/K44-L0rclaIM40hma55pPQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/K44-L0rclaIM40hma55pPQ</a></p>
<h2 id="六、Elasticsearch实用化订单搜索方案"><a href="#六、Elasticsearch实用化订单搜索方案" class="headerlink" title="六、Elasticsearch实用化订单搜索方案"></a>六、Elasticsearch实用化订单搜索方案</h2><p>搜索引擎中，主要考虑到Elasticsearch支持结构化数据查询以及支持实时频繁更新特性，传统订单查询报表的痛点，以及Elasticsearch能够帮助解决的问题。</p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzU0MzQ5MDA0Mw==&mid=2247489611&idx=1&sn=407f2a3d9e5190c89064752eeded6e5d&chksm=fb0bf2dfcc7c7bc93fed2f746b6f7c128ea6d56f33163bb6796c7bd3f4adf2f69acda4948c1a&scene=21#wechat_redirect" target="_blank" rel="noopener"><img src="/Oops/resources/2DDC13685DFB8AA0A215208FFBFAC2FF.jpg" alt></a></p>
<h3 id="订单搜索系统架构"><a href="#订单搜索系统架构" class="headerlink" title="订单搜索系统架构"></a>订单搜索系统架构</h3><p>整个业务线使用服务化方式，Elasticsearch集群和数据库分库，作为数据源被订单服务系统封装为对外统一接口；各前、后台应用和报表中心，使用服务化的方式获取订单数据。</p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzU0MzQ5MDA0Mw==&mid=2247489611&idx=1&sn=407f2a3d9e5190c89064752eeded6e5d&chksm=fb0bf2dfcc7c7bc93fed2f746b6f7c128ea6d56f33163bb6796c7bd3f4adf2f69acda4948c1a&scene=21#wechat_redirect" target="_blank" rel="noopener"><img src="/Oops/resources/B8F64EC041FFD68F7E7D1ED355F49084.jpg" alt></a></p>
<p><a href="https://my.oschina.net/u/2485991/blog/533163" target="_blank" rel="noopener">https://my.oschina.net/u/2485991/blog/533163</a></p>

      
    </div>
    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/oops/uploads/wechat-qcode.jpg" alt="架构组 wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的微信二维码，订阅我的公众号</div>
</div>

      </div>
    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/oops/2020/04/30/%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB/20M%20%E6%96%87%E4%BB%B6%E7%94%A8%20Java%20%E5%8E%8B%E7%BC%A9%E4%BB%8E30%E7%A7%92%E5%88%B01%E7%A7%92%E7%9A%84%E4%BC%98%E5%8C%96%E8%BF%87%E7%A8%8B/" rel="next" title="20M 文件用 Java 压缩从30秒到1秒的优化过程">
                <i class="fa fa-chevron-left"></i> 20M 文件用 Java 压缩从30秒到1秒的优化过程
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/oops/2020/04/30/%E6%8E%A8%E8%8D%90%E9%98%85%E8%AF%BB/4%E6%AC%A1%E4%BC%98%E5%8C%96%EF%BC%8C%E6%88%91%E6%8A%8A%20Redis%20%E6%80%A7%E8%83%BD%20%E2%80%9C%E5%8E%8B%E6%A6%A8%E2%80%9D%20%E5%88%B0%E6%9E%81%E8%87%B4%EF%BC%81/" rel="prev" title="4次优化，我把 Redis 性能 “压榨” 到极致！">
                4次优化，我把 Redis 性能 “压榨” 到极致！ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner" style="text-align:center;">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>









        
<div class="busuanzi-count">
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本站总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/oops/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/oops/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/oops/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/oops/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/oops/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/oops/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/oops/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/oops/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/oops/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/oops/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/oops/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  

</body>
</html>
